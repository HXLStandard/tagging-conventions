<p style="border: 1px solid; padding: 1ex; background: #ffffaa">
<b>Note:</b> this is an out-of-date version of the HXL tagging conventions, preserved for historical reference. Please see <a href="/standard/tagging/">the latest version</a> if you are planning to use or support HXL.
</p>

<p style="font-size:120%">Release 1.0alpha (2014-04-07)</p>

<section id="intro">
  <h2>1. Introduction</h2>
  <p>This document is part of the Humanitarian Exchange Language (HXL), a proposed standard for increasing the efficiency and effectiveness of data exchange during humanitarian crises. The HXL standard consists of two parts:</p>
  <ol>
    <li>HXL tagging conventions (this document) &mdash; instructions for adding HXL tags to spreadsheets.</li>
    <li>HXL <a href="/standard/dictionary/">tag dictionary</a> &mdash; a list of hashtags for identifying humanitarian data fields.</li>
  </ol>
  <section id="intro.audience">
    <h3>1.1. Target audience</h3>
    <p>HXL is designed for exchanging tabular-style data within the humanitarian community. Our primary audience is information-management specialists who are familiar with spreadsheets or relational databases; our second audience is computer programmers and database specialists looking to consume data produced by those information-management specialists.</p>
  </section>

  <section id="intro.terms">
    <h3>1.2. Terms of use</h3>
    <p>HXL is available as an open standard &mdash; we have created it especially for use with humanitarian data, but you are welcome to use it for any purpose you want, as long as you don't claim any support or endorsement from any members of the HXL working group or the organisations for which they work. We offer no warranty of any kind, so please use the standard at your own risk.</p>
  </section>

  <section id="intro.creators">
    <h3>1.3. Creators</h3>
    <p>HXL is a group effort of many people and organisations, especially (but not exclusively) within the United Nations family of organisations, ably supported by a wider community of over 100 members of the <a href="https://groups.google.com/forum/#!forum/hxlproject">hxlproject@googlegroups.com</a> public mailing list.</p>
    <p>As of June 2014, the core HXL Working Group included the following members: Albert Gembara (USAID), Andrej Verity (OCHA), Andrew Alspach (UNHCR), Gavin Wood (UNICEF), John Crowley (World Bank), Lauren Burns (Save the Children), Maurizio Blasilli (WFP), Muhammad Rizki (IOM), and Paul Currion (Humanitarian Innovation Fund). David Megginson (OCHA) served as standards lead and chair, while Sarah Telford (OCHA) was project manager. Generous funding for the first year of HXL research and development came from the Humanitarian Innovation Fund.</p>
  </section>

</section>

<section id="model">
  <h2>2. Base data model</h2>
  <p>This section describes the basic underlying idiom for HXL's data model. HXL builds on a tabular data model familiar from spreadsheets and relational databases, rather than an hierarchical data model (e.g. XML, JSON, mind maps, file systems) or a graph data model (e.g. RDF, the World Wide Web). Tabular data models cover the majority of data that humanitarians exchange in the field, and have the most widely-deployed tool support via spreadsheet applications like Microsoft Excel, Google Spreadsheets, and OpenOffice Calc.</p>

  <section id="model.constraints">
    <h3>2.1. Constraints</h3>
    <ul>
      <li>HXL data will be in tabular form (e.g., spreadsheets, CSV files).</li>
      <li>One or more rows of each data table will consist of human-readable headers.</li>
      <li>Immediately after the last row of headers, there will be a row of HXL tags, where each cell is either empty or begins with the character &ldquo;#&rdquo;.</li>
      <li>All rows after the HXL tag row consist of data.</li>
    </ul>
  </section>

  <section id="model.example">
    <h3>2.2. (Non-HXL) Table model example</h3>
    <p>Except for the additional row of HXL tags (described in detail later), the above constraints match the most-common spreadsheet conventions, with data arranged like this:</p>
    <table>
      <thead>
        <tr>
          <td>A</td>
          <td>B</td>
          <td>C</td>
          <td>D</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>001</td>
          <td>xaax</td>
          <td>11</td>
          <td>5.7</td>
        </tr>
        <tr>
          <td>002</td>
          <td>xbbx</td>
          <td>23</td>
          <td>3.1</td>
        </tr>
        <tr>
          <td>003</td>
          <td>xccx</td>
          <td>3</td>
          <td>7.8</td>
        </tr>
      </tbody>
    </table>
    <p>In this case, there are three items described, each of which has four properties (&ldquo;A&rdquo;, &ldquo;B&rdquo;, &ldquo;C&rdquo;, and &ldquo;D&rdquo;). The first item has the assignments A=001, B=xaax, C=11, and D=5.7; the second item has A=002, B=xbbx, C=23, and D=3.1; the third item has A=003, B=xccx, C=3, and D=7.8.</p>
    <p>HXL builds on top of this model by adding a row of machine-readable tags, as explained below.</p>
  </section>
</section>

<section id="conventions">
  <h2>3. Tagging conventions</h2>
  <p>Standardising field names (column headings) in data spreadsheets is complicated for three reasons:</p>
  <ol start="1">
    <li>Different humanitarian country teams prefer different common working languages (e.g., Spanish in Latin America, French in West Africa, Arabic in the Levant and northern Africa, Russian in parts of Central Asia).</li>
    <li>Sometimes it is necessary to include data in more than one language in the same spreadsheet; for example, in Afghanistan, it's usual to include both Dari and Pashto versions of any text.</li>
    <li>Different naming conventions make sense in different contexts; for example, the first administrative level in Syria is a &ldquo;Governorate,&rdquo; while in the Philippines, it's a &ldquo;Region.&rdquo; </li>
  </ol>
  <p>As a result, relying on matching ordinary text to identify each field/column is unlikely to be effective. </p>

  <section id="conventions.tags">
    <h3>3.1. HXL tags</h3>
    <p>Instead of relying on matching header text, HXL defines a short tag for each standard type of spreadsheet column, and includes those tags in addition to human-readable text headers. The HXL tags resemble hashtags used in social media (all starting with &ldquo;#&rdquo;), and are defined in the <a href="/standard/dictionary/">HXL tag dictionary</a>.</p>
    <p>For example, the tag #aff_num refers to &ldquo;number of people affected.&rdquo; The tag always makes it clear what we're talking about, no matter what text appears in the main header</p>
    <ul>
      <li>Number affected</li>
      <li># de personnes concern&eacute;es</li>
      <li>Afectadas/os</li>
      <li>&#1593;&#1583;&#1583; &#1575;&#1604;&#1571;&#1588;&#1582;&#1575;&#1589; &#1575;&#1604;&#1605;&#1578;&#1590;&#1585;&#1585;&#1610;&#1606;</li>
    </ul>
    <p>Here is a simplified example of HXL tags added to a spreadsheet:</p>

    <table>
      <thead>
        <tr>
          <td>Location name</td>
          <td>Location code</td>
          <td>People affected</td>
        </tr>
        <tr class="hxl">
          <td>#loc</td>
          <td>#loc_id</td>
          <td>#aff_num</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Town A</td>
          <td>01000001</td>
          <td>2000</td>
        </tr>
        <tr>
          <td>Town B</td>
          <td>01000002</td>
          <td>750</td>
        </tr>
        <tr>
          <td>Town C</td>
          <td>01000003</td>
          <td>1920</td>
        </tr>
      </tbody>
    </table>
    <p>A computer can process the column automatically simply by reading the HXL tag, no matter what text appears in the header above. That allows individual crisis teams and clusters to adapt to local conventions, while still allowing for automated data processing, merging, and validation.</p>
  </section>

  <section id="conventions.language">
    <h3>3.2. Language codes</h3>
    <p>For multilingual content, HXL tags allow an optional &ldquo;/&rdquo; followed by an <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">ISO 639-1 language code</a>. For example, #activity is the HXL tag for an activity or project name, so you can add &ldquo;/en&rdquo; or &ldquo;/fr&rdquo; to distinguish the English and French versions:</p>
    <table>
      <thead>
        <tr>
          <td>Project title</td>
          <td>Titre du projet</td>
        </tr>
        <tr class="hxl">
          <td>#activity/en</td>
          <td>#activity/fr</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Malaria treatments</td>
          <td>Traitement du paludisme</td>
        </tr>
        <tr>
          <td>Teacher training</td>
          <td>Formation des enseignant(e)s</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section id="conventions.repetition">
    <h3>3.3. Repeated fields</h3>
    <p>A tabular format works poorly for repeated fields (e.g. an activity taking place in more than one location); however, using HXL tags, it is possible to design a spreadsheet format that allows for a fixed amount of repetition.</p>
    <p>For example, the HXL tag for a geographical code is #loc_id. A 3W spreadsheet for a specific country could allow room for up to three geocodes like this:</p>
    <table>
      <thead>
        <tr>
          <td>P-code 1</td>
          <td>P-code 2</td>
          <td>P-code 3</td>
        </tr>
        <tr class="hxl">
          <td>#loc_id</td>
          <td>#loc_id</td>
          <td>#loc_id</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>020503</td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>060107</td>
          <td>060108</td>
          <td></td>
        </tr>
        <tr>
          <td>173219</td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>530012</td>
          <td>530013</td>
          <td>530015</td>
        </tr>
        <tr>
          <td>279333</td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
    <p>By reading the HXL tag, processing software can easily recognize that the three columns represent (up to) three values for the same field, even though the full column titles differ, and even if the authors of the processing software knew nothing about the specific conventions in use in this country.</p>
  </section>

  <section id="conventions.compact">
    <h3>3.4. Compact disaggregated data and the &ldquo;+&rdquo; notation</h3>
    <p>Consider the following (non-HXL) spreadsheet example listing the number of people injured by a crisis each year in two different regions:</p>
    <table>
      <thead>
        <tr>
          <td>Region</td>
          <td>2008</td>
          <td>2009</td>
          <td>2010</td>
          <td>2011</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Coast District</td>
          <td>0</td>
          <td>30</td>
          <td>100</td>
          <td>250</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>15</td>
          <td>75</td>
          <td>30</td>
          <td>45</td>
        </tr>
      </tbody>
    </table>
    <p>This table does not fit the standard HXL data model of one row for each record, because some of the column headers actually represent data (the year). HXL provides a special notation for this situation, using the &ldquo;+&rdquo; character (optionally surrounded by whitespace) to combine two HXL tags, one representing the text of the column header, and one representing the values under the header:</p>
    <table>
      <thead>
        <tr>
          <td>Region</td>
          <td>2008</td>
          <td>2009</td>
          <td>2010</td>
          <td>2011</td>
        </tr>
        <tr class="hxl">
          <td>#adm1</td>
          <td>#period_date + #injured_num</td>
          <td>#period_date + #injured_num</td>
          <td>#period_date + #injured_num</td>
          <td>#period_date + #injured_num</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Coast District</td>
          <td>0</td>
          <td>30</td>
          <td>100</td>
          <td>250</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>15</td>
          <td>75</td>
          <td>30</td>
          <td>45</td>
        </tr>
      </tbody>
    </table>
    <p>The tag+tag notation provides a compact way of labelling a large amount of data: in this case, the tags &ldquo;#period_date+#injured_num&rdquo; mean that the column header contains the Time period applicable (&ldquo;#period_date&rdquo;) while the cells beneath contain the Number of people injured (&ldquo;#injured_num&rdquo;).</p>
    <p>Repeated codes work differently with the tag+tag notation; instead of repeating fields within the same record, each repeated &ldquo;+&rdquo; tag with a different header generates a new virtual data record. The following table shows the same data in a more-conventional HXL format:</p>
    <table>
      <thead>
        <tr>
          <td>Region</td>
          <td>Year</td>
          <td>People injured</td>
        </tr>
        <tr class="hxl">
          <td>#adm1</td>
          <td>#period.date<sup><a href="#cmnt1" name="cmnt_ref1">[a]</a></sup></td>
          <td>#injured_num</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Coast District</td>
          <td>2008</td>
          <td>0</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>2008</td>
          <td>15</td>
        </tr>
        <tr>
          <td>Coast District</td>
          <td>2009</td>
          <td>30</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>2009</td>
          <td>75</td>
        </tr>
        <tr>
          <td>Coast District</td>
          <td>2010</td>
          <td>100</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>2010</td>
          <td>30</td>
        </tr>
        <tr>
          <td>Coast District</td>
          <td>2011</td>
          <td>250</td>
        </tr>
        <tr>
          <td>Mountain District</td>
          <td>2011</td>
          <td>45</td>
        </tr>
      </tbody>
    </table>
    <p>To a computer system processing HXL, the two tables should result in identical parsed data.</p>
  </section>
</section>

<section id="notes">
  <h2>4. Implementation notes</h2>

  <section id="notes.detection">
    <h3>4.1. Detecting the tag row</h3>
    <p>HXL tags may not always appear after the first row of a spreadsheet. There are situations where spreadsheets contain multiple header rows, often for grouping, as in the following example:</p>
    <table>
      <thead>
        <tr>
          <td>Who</td>
          <td colspan="2">What</td>
          <td colspan="2">Where</td>
        </tr>
        <tr>
          <td>Organisation</td>
          <td>Sector</td>
          <td>Subsector</td>
          <td>Department</td>
          <td>Municipality</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>UNICEF</td>
          <td>Education</td>
          <td>Teacher training</td>
          <td>Choc&oacute;</td>
          <td>Quidb&oacute;</td>
        </tr>
        <tr>
          <td>UNICEF</td>
          <td>Education</td>
          <td>Teacher training</td>
          <td>Choc&oacute;</td>
          <td>Bojay&aacute;</td>
        </tr>
      </tbody>
    </table>
    <p>Since the HXL tag row must always come after the headers, it is possible to detect the tag row (and the beginning of the data content) by looking for the first row where every cell is either empty or begins with the character &ldquo;#&rdquo;, as in the following example:</p>
    <table>
      <thead>
        <tr>
          <td>Who</td>
          <td colspan="2">What</td>
          <td colspan="2">Where</td>
        </tr>
        <tr>
          <td>Organisation</td>
          <td>Sector</td>
          <td>Subsector</td>
          <td>Department</td>
          <td>Municipality</td>
        </tr>
        <tr class="hxl">
          <td>#org</td>
          <td>#sector</td>
          <td>#subsector</td>
          <td>#adm1</td>
          <td>#adm2</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>UNICEF</td>
          <td>Education</td>
          <td>Teacher training</td>
          <td>Choc&oacute;</td>
          <td>Quidb&oacute;</td>
        </tr>
        <tr>
          <td>UNICEF</td>
          <td>Education</td>
          <td>Teacher training</td>
          <td>Choc&oacute;</td>
          <td>Bojay&aacute;</td>
        </tr>
      </tbody>
    </table>
    <p>A HXL parsing library could scan (for example) the first 20 rows of a spreadsheet, looking for a row that matches the constraints mentioned above. In this case, the first two rows would fail to match, but in the third row, every cell either begins with &ldquo;#&rdquo; or is empty, so it must be the HXL tag row, and all the rows after it are data rows.</p>
  </section>

  <section id="notes.grammar">
    <h3>4.2. Formal grammar of a HXL tag</h3>
    <p>The following Backus-Naur Form grammar (with regular expressions) defines the allowed content of a HXL tag (terminals are in upper case):</p>

    <pre>
&lt;hxl-tag&gt; ::= WS &lt;single-tag&gt; WS
                  | WS &lt;compound-tag&gt; WS

&lt;compound-tag&gt; ::= &lt;single-tag&gt; WS "+" WS &lt;single-tag&gt;

&lt;single-tag&gt; ::= &lt;base-tag&gt;
                     | &lt;base-tag&gt; "/" LANGUAGE

&lt;base-tag&gt; ::= "#" TOKEN

TOKEN ::= /[a-zA-Z][a-zA-Z0-9_]*/

LANGUAGE ::= /[a-z]{2}/

WS ::= /[ \t\n\r]*/
    </pre>
</section>
</section>
